{"ast":null,"code":"var _jsxFileName = \"/home/rootpc/Desktop/Cimeri/Front/trazimcimera-master/src/views/Registracija/Registracija.js\";\nimport React, { useState } from \"react\";\nimport classes from './Registracija.css';\nimport Layout from \"../../components/Layout/Layout\";\nimport Main from \"../../components/Main/Main\";\nimport { useHistory } from \"react-router-dom\";\n\nconst Registracija = props => {\n  let history = useHistory();\n  const [ime, setIme] = useState(\"\");\n  const [prezime, setPrezime] = useState(\"\");\n  const [datum_rodjenja, setDatum_rodjenja] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [grad, setGrad] = useState(\"\");\n  const [adresa, setAdresa] = useState(\"\");\n  const [pozeljni_broj_cimera, setPozeljni_broj_cimera] = useState(0);\n  const [opis, setOpis] = useState(\"\"); //const [slika_url, setSlika_url] = useState(\"\");\n\n  const [selectedFile, setSelectedFile] = useState(null);\n\n  const fileSelectedHandler = event => {\n    setSelectedFile(event.target.files[0]);\n  };\n\n  const handleNameChange = event => {\n    setIme(event.target.value);\n  };\n\n  const handleLastNameChange = event => {\n    setPrezime(event.target.value);\n  };\n\n  const handleDateChange = event => {\n    setDatum_rodjenja(event.target.value);\n  };\n\n  const handleEmailChange = event => {\n    setEmail(event.target.value);\n  };\n\n  const handleUsernameChange = event => {\n    setUsername(event.target.value);\n  };\n\n  const handlePasswordChange = event => {\n    setPassword(event.target.value);\n  };\n\n  const handleCityChange = event => {\n    setGrad(event.target.value);\n  };\n\n  const handleAddressChange = event => {\n    setAdresa(event.target.value);\n  };\n\n  const handleNumberChange = event => {\n    setPozeljni_broj_cimera(parseInt(event.target.value));\n  };\n\n  const handleTextChange = event => {\n    setOpis(event.target.value);\n  };\n\n  const registrationHandler = event => {\n    event.preventDefault();\n\n    if (ime === \"\") {\n      alert(\"Unesite ime!\");\n    } else if (prezime === \"\") {\n      alert(\"Unesite prezime!\");\n    } else if (datum_rodjenja === \"\") {\n      alert(\"Unesite datum rođenja!\");\n    } else if (email === \"\") {\n      alert(\"Unesite email!\");\n    } else if (password === \"\") {\n      alert(\"Unesite lozinku!\");\n    } else if (grad === \"\") {\n      alert(\"Unesite grad!\");\n    } else if (adresa === \"\") {\n      alert(\"Unesite adresu!\");\n    } else if (pozeljni_broj_cimera === 0) {\n      alert(\"Unesite broj cimera!\");\n    } else if (opis === \"\") {\n      alert(\"Unesite kratki opis!\");\n    } else {\n      const requestBody = {\n        query: `\n                        mutation {\n                            register(user: {\n                                username: \"${username}\", \n                                password: \"${password}\",\n                                name: \"${ime}\",\n                                surname: \"${prezime}\",\n                                city: \"${grad}\",\n                                address: \"${adresa}\",\n                                email: \"${email}\",\n                                bio: \"${opis}\",\n                                date_of_birth: \"${datum_rodjenja}\",\n                                pref_roommate_num: ${parseInt(pozeljni_broj_cimera)}\n                            })\n                        }\n                    `\n      };\n      fetch('http://localhost:4000/graphql', {\n        method: \"POST\",\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          alert(\"Greška pri registraciji!\");\n          throw new Error('Greška!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        if (resData.data.register) {\n          alert(resData.data.register);\n          history.push(\"/prijava\");\n        }\n      }).catch(err => {\n        alert(\"Greška pri registraciji!\");\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Main, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 21\n    }\n  }, \"Registracija\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: classes.text,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 21\n    }\n  }, \"Pridru\\u017Eivanjem na\\u0161oj zajednici dobijate mogu\\u0107nost da objavljujete oglase na na\\u0161oj stranici! \"), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.Forma,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 32\n    }\n  }, \"Ime\"), \" (required)\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: ime,\n    onChange: handleNameChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 39\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 46\n    }\n  }, \"Prezime\"), \" (required)\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: prezime,\n    onChange: handleLastNameChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 36\n    }\n  }, \"Datum ro\\u0111enja\"), \" (required)\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"date\",\n    value: datum_rodjenja,\n    className: classes.Date,\n    onChange: handleDateChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 36\n    }\n  }, \"Email\"), \" (required)\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: email,\n    onChange: handleEmailChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 36\n    }\n  }, \"Korisni\\u010Dko ime\"), \" (required)\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: username,\n    onChange: handleUsernameChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 36\n    }\n  }, \"Lozinka\"), \" (required)\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    value: password,\n    onChange: handlePasswordChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 36\n    }\n  }, \"Grad\"), \" (required)\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: grad,\n    onChange: handleCityChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 36\n    }\n  }, \"Adresa stanovanja\"), \" (required)\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: adresa,\n    onChange: handleAddressChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 36\n    }\n  }, \"Sa koliko cimera bi \\u017Eivjeli?\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.CheckBox,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    id: \"1\",\n    name: \"broj\",\n    value: \"1\",\n    onClick: handleNumberChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 29\n    }\n  }, \"1\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.CheckBox,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    id: \"2\",\n    name: \"broj\",\n    value: \"2\",\n    onClick: handleNumberChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 29\n    }\n  }, \"2\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.CheckBox,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    id: \"3\",\n    name: \"broj\",\n    value: \"3\",\n    onClick: handleNumberChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 29\n    }\n  }, \"3\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.CheckBox,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    id: \"4\",\n    name: \"broj\",\n    value: \"4\",\n    onClick: handleNumberChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 29\n    }\n  }, \"4\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.CheckBox,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    id: \"5\",\n    name: \"broj\",\n    value: \"5\",\n    onClick: handleNumberChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 29\n    }\n  }, \"5\")), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 32\n    }\n  }, \"Ne\\u0161to vi\\u0161e o vama\")), /*#__PURE__*/React.createElement(\"textarea\", {\n    rows: \"8\",\n    cols: \"15\",\n    value: opis,\n    onChange: handleTextChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 96\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: event => {\n      registrationHandler(event);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 81\n    }\n  }, \"REGISTRUJ SE\"))))));\n};\n\nexport default Registracija;","map":{"version":3,"sources":["/home/rootpc/Desktop/Cimeri/Front/trazimcimera-master/src/views/Registracija/Registracija.js"],"names":["React","useState","classes","Layout","Main","useHistory","Registracija","props","history","ime","setIme","prezime","setPrezime","datum_rodjenja","setDatum_rodjenja","email","setEmail","username","setUsername","password","setPassword","grad","setGrad","adresa","setAdresa","pozeljni_broj_cimera","setPozeljni_broj_cimera","opis","setOpis","selectedFile","setSelectedFile","fileSelectedHandler","event","target","files","handleNameChange","value","handleLastNameChange","handleDateChange","handleEmailChange","handleUsernameChange","handlePasswordChange","handleCityChange","handleAddressChange","handleNumberChange","parseInt","handleTextChange","registrationHandler","preventDefault","alert","requestBody","query","fetch","method","body","JSON","stringify","headers","then","res","status","Error","json","resData","data","register","push","catch","err","text","Forma","Date","CheckBox"],"mappings":"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","sourcesContent":["import React, {useState} from \"react\";\nimport classes from './Registracija.css';\nimport Layout from \"../../components/Layout/Layout\";\nimport Main from \"../../components/Main/Main\";\nimport { useHistory } from \"react-router-dom\";\n\nconst Registracija = (props) => {\n\n    let history = useHistory();\n\n    const [ime, setIme] = useState(\"\");\n    const [prezime, setPrezime] = useState(\"\");\n    const [datum_rodjenja, setDatum_rodjenja] = useState(\"\");\n    const [email, setEmail] = useState(\"\");\n    const [username, setUsername] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [grad, setGrad] = useState(\"\");\n    const [adresa, setAdresa] = useState(\"\");\n    const [pozeljni_broj_cimera, setPozeljni_broj_cimera] = useState(0);\n    const [opis, setOpis] = useState(\"\");\n    //const [slika_url, setSlika_url] = useState(\"\");\n\n    const [selectedFile, setSelectedFile] = useState(null);\n\n    const fileSelectedHandler = (event) => {\n        setSelectedFile(event.target.files[0]);\n    }\n\n    const handleNameChange = (event) => {\n        setIme(event.target.value);\n    }\n\n    const handleLastNameChange = (event) => {\n        setPrezime(event.target.value);\n    }\n\n    const handleDateChange = (event) => {\n        setDatum_rodjenja(event.target.value);\n    }\n\n    const handleEmailChange = (event) => {\n        setEmail(event.target.value);\n    }\n\n    const handleUsernameChange = (event) => {\n        setUsername(event.target.value);\n    }\n\n    const handlePasswordChange = (event) => {\n        setPassword(event.target.value);\n    }\n\n    const handleCityChange = (event) => {\n        setGrad(event.target.value);\n    }\n\n    const handleAddressChange = (event) => {\n        setAdresa(event.target.value);\n    }\n\n    const handleNumberChange = (event) => {\n        setPozeljni_broj_cimera(parseInt(event.target.value));\n    }\n\n    const handleTextChange= (event) => {\n        setOpis(event.target.value);\n    }\n\n    const registrationHandler = (event) => {\n        event.preventDefault();\n            if(ime === \"\") {\n                alert(\"Unesite ime!\")\n            } else if (prezime === \"\") {\n                alert(\"Unesite prezime!\")\n            } else if (datum_rodjenja === \"\") {\n                alert(\"Unesite datum rođenja!\")\n            } else if (email === \"\") {\n                alert(\"Unesite email!\");\n            } else if (password === \"\") {\n                alert(\"Unesite lozinku!\");\n            } else if (grad === \"\") {\n                alert(\"Unesite grad!\");\n            } else if (adresa === \"\") {\n                alert(\"Unesite adresu!\");\n            } else if (pozeljni_broj_cimera === 0) {\n                alert(\"Unesite broj cimera!\");\n            } else if (opis === \"\") {\n                alert(\"Unesite kratki opis!\");\n            } else {\n                const requestBody = {\n                    query: `\n                        mutation {\n                            register(user: {\n                                username: \"${username}\", \n                                password: \"${password}\",\n                                name: \"${ime}\",\n                                surname: \"${prezime}\",\n                                city: \"${grad}\",\n                                address: \"${adresa}\",\n                                email: \"${email}\",\n                                bio: \"${opis}\",\n                                date_of_birth: \"${datum_rodjenja}\",\n                                pref_roommate_num: ${parseInt(pozeljni_broj_cimera)}\n                            })\n                        }\n                    `\n                };\n        \n                fetch('http://localhost:4000/graphql', {\n                    method: \"POST\",\n                    body: JSON.stringify(requestBody),\n                    headers: {\n                        'Content-Type': 'application/json'\n                    }\n                }).then(res => {\n                    if(res.status !== 200 && res.status !== 201) {\n                        alert(\"Greška pri registraciji!\");\n                        throw new Error('Greška!');\n                    }\n                    return res.json();\n                }).then(resData => {\n                    if(resData.data.register) {\n                        alert(resData.data.register);\n                        history.push(\"/prijava\");\n                    }\n                }).catch(err => {\n                    alert(\"Greška pri registraciji!\");\n                });\n            }\n        };\n\n    return (\n        <Layout>\n            <Main>\n                <div>\n                    <h1>Registracija</h1>\n                    <p className={classes.text}>Pridruživanjem našoj zajednici dobijate mogućnost da objavljujete oglase na našoj stranici! </p>\n                    <div className={classes.Forma}>\n                        <label><strong>Ime</strong> (required)</label>\n                        <input\n                            type=\"text\"\n                            value={ime}\n                            onChange={handleNameChange}\n                            required/><label><strong>Prezime</strong> (required)</label>\n                        <input\n                            type=\"text\"\n                            value={prezime}\n                            onChange={handleLastNameChange}/>\n                            <label><strong>Datum rođenja</strong> (required)</label>\n                        <input\n                            type=\"date\"\n                            value={datum_rodjenja}\n                            className={classes.Date}\n                            onChange={handleDateChange}/>\n                            <label><strong>Email</strong> (required)</label>\n                        <input\n                            type=\"text\"\n                            value={email}\n                            onChange={handleEmailChange}/>\n                            <label><strong>Korisničko ime</strong> (required)</label>\n                        <input\n                            type=\"text\"\n                            value={username}\n                            onChange={handleUsernameChange}/>\n                            <label><strong>Lozinka</strong> (required)</label>\n                        <input\n                            type=\"password\"\n                            value={password}\n                            onChange={handlePasswordChange}/>\n                            <label><strong>Grad</strong> (required)</label>\n                        <input\n                            type=\"text\"\n                            value={grad}\n                            onChange={handleCityChange}/>\n                            <label><strong>Adresa stanovanja</strong> (required)</label>\n                        <input\n                            type=\"text\"\n                            value={adresa}\n                            onChange={handleAddressChange}/>\n                            <label><strong>Sa koliko cimera bi živjeli?</strong></label>\n\n                        <div className={classes.CheckBox}>\n                            <input type=\"checkbox\" id=\"1\" name=\"broj\" value=\"1\" onClick={handleNumberChange}/>\n                            <label htmlFor=\"1\">1</label>\n                        </div>\n                        <div className={classes.CheckBox}>\n                            <input type=\"checkbox\" id=\"2\" name=\"broj\" value=\"2\" onClick={handleNumberChange}/>\n                            <label htmlFor=\"2\">2</label>\n                        </div>\n                        <div className={classes.CheckBox}>\n                            <input type=\"checkbox\" id=\"3\" name=\"broj\" value=\"3\" onClick={handleNumberChange}/>\n                            <label htmlFor=\"3\">3</label>\n                        </div>\n                        <div className={classes.CheckBox}>\n                            <input type=\"checkbox\" id=\"4\" name=\"broj\" value=\"4\" onClick={handleNumberChange}/>\n                            <label htmlFor=\"4\">4</label>\n                        </div>\n                        <div className={classes.CheckBox}>\n                            <input type=\"checkbox\" id=\"5\" name=\"broj\" value=\"5\" onClick={handleNumberChange}/>\n                            <label htmlFor=\"5\">5</label>\n                        </div>\n\n                        <label><strong>Nešto više o vama</strong></label>\n                        <textarea rows=\"8\" cols=\"15\" value={opis} onChange={handleTextChange}/><br/>\n\n                        {/*<input type=\"file\" onChange={fileSelectedHandler} className={classes.Image}/>*/}\n\n                        <button onClick={event => {registrationHandler(event)}}><strong>REGISTRUJ SE</strong></button>\n                    </div>\n                </div>\n            </Main>\n        </Layout>\n    )\n}\n\nexport default Registracija;\n"]},"metadata":{},"sourceType":"module"}