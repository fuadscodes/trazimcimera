{"ast":null,"code":"var _jsxFileName = \"/home/rootpc/Desktop/Cimeri/Front/trazimcimera-master/src/views/Oglasi/Oglasi.js\";\nimport React from \"react\";\nimport classes from './Oglasi.css';\nimport Main from \"../../components/Main/Main\";\nimport Oglas from \"./Oglas/Oglas\";\nimport ToolbarLayout from \"../../components/ToolbarLayout/ToolbarLayout\";\nimport Cookies from 'js-cookie';\nimport gql from 'graphql-tag';\nimport { useQuery } from '@apollo/react-hooks';\n\nconst Oglasi = props => {\n  const POSTS_QUERY = gql`\n    query {\n        posts {\n        post_id\n        description\n        address\n        rent\n        num_of_roommates\n        author {\n        user_id\n        username\n        name\n        surname\n        city\n        address\n        email\n        bio\n        gender\n        date_of_birth\n        pr_picture_url\n        pref_roommate_num\n        }\n    }\n}`;\n  const user = Cookies.get(\"user\");\n  const token = user.toString().split('\"')[3];\n  const {\n    loading,\n    error,\n    data\n  } = useQuery(POSTS_QUERY, {\n    context: {\n      headers: {\n        \"Authorization\": token\n      }\n    }\n  });\n  if (loading) return /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 25\n    }\n  }, \"U\\u010Ditavanje...\");\n  if (error) return /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 23\n    }\n  }, `Greška: ${error.message}`);\n  return /*#__PURE__*/React.createElement(ToolbarLayout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Main, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.Oglasi,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 21\n    }\n  }, \"Oglasi\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.ListaMisljenja,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 21\n    }\n  }, data.posts.map(post => {\n    return /*#__PURE__*/React.createElement(Oglas, {\n      text: post.description,\n      brojCimera: post.num_of_roommates,\n      cijena: post.rent,\n      email: post.author.email,\n      adresa: post.address,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 40\n      }\n    });\n  })))));\n};\n\nexport default Oglasi;","map":{"version":3,"sources":["/home/rootpc/Desktop/Cimeri/Front/trazimcimera-master/src/views/Oglasi/Oglasi.js"],"names":["React","classes","Main","Oglas","ToolbarLayout","Cookies","gql","useQuery","Oglasi","props","POSTS_QUERY","user","get","token","toString","split","loading","error","data","context","headers","message","ListaMisljenja","posts","map","post","description","num_of_roommates","rent","author","email","address"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,cAApB;AACA,OAAOC,IAAP,MAAiB,4BAAjB;AACA,OAAOC,KAAP,MAAkB,eAAlB;AACA,OAAOC,aAAP,MAA0B,8CAA1B;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,GAAP,MAAgB,aAAhB;AACA,SAAQC,QAAR,QAAuB,qBAAvB;;AAGA,MAAMC,MAAM,GAAIC,KAAD,IAAW;AAEtB,QAAMC,WAAW,GAAGJ,GAAI;;;;;;;;;;;;;;;;;;;;;;;EAAxB;AAyBA,QAAMK,IAAI,GAAGN,OAAO,CAACO,GAAR,CAAY,MAAZ,CAAb;AACA,QAAMC,KAAK,GAAGF,IAAI,CAACG,QAAL,GAAgBC,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,CAAd;AAEA,QAAM;AAAEC,IAAAA,OAAF;AAAWC,IAAAA,KAAX;AAAkBC,IAAAA;AAAlB,MAA2BX,QAAQ,CAACG,WAAD,EAAc;AACnDS,IAAAA,OAAO,EAAE;AACLC,MAAAA,OAAO,EAAE;AACL,yBAAiBP;AADZ;AADJ;AAD0C,GAAd,CAAzC;AAQA,MAAIG,OAAJ,EAAa,oBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAP;AACb,MAAIC,KAAJ,EAAW,oBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAK,WAAUA,KAAK,CAACI,OAAQ,EAA7B,CAAP;AAEX,sBACI,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAEpB,OAAO,CAACO,MAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAK,IAAA,SAAS,EAAEP,OAAO,CAACqB,cAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEQJ,IAAI,CAACK,KAAL,CAAWC,GAAX,CAAeC,IAAI,IAAI;AACnB,wBAAO,oBAAC,KAAD;AACH,MAAA,IAAI,EAAEA,IAAI,CAACC,WADR;AAEH,MAAA,UAAU,EAAED,IAAI,CAACE,gBAFd;AAGH,MAAA,MAAM,EAAEF,IAAI,CAACG,IAHV;AAIH,MAAA,KAAK,EAAEH,IAAI,CAACI,MAAL,CAAYC,KAJhB;AAKH,MAAA,MAAM,EAAEL,IAAI,CAACM,OALV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AAOH,GARD,CAFR,CAFJ,CADJ,CADJ,CADJ;AAsBH,CA/DD;;AAiEA,eAAevB,MAAf","sourcesContent":["import React from \"react\";\nimport classes from './Oglasi.css';\nimport Main from \"../../components/Main/Main\";\nimport Oglas from \"./Oglas/Oglas\";\nimport ToolbarLayout from \"../../components/ToolbarLayout/ToolbarLayout\";\nimport Cookies from 'js-cookie';\nimport gql from 'graphql-tag';\nimport {useQuery} from '@apollo/react-hooks';\n \n\nconst Oglasi = (props) => {\n\n    const POSTS_QUERY = gql`\n    query {\n        posts {\n        post_id\n        description\n        address\n        rent\n        num_of_roommates\n        author {\n        user_id\n        username\n        name\n        surname\n        city\n        address\n        email\n        bio\n        gender\n        date_of_birth\n        pr_picture_url\n        pref_roommate_num\n        }\n    }\n}`;\n\n    const user = Cookies.get(\"user\");\n    const token = user.toString().split('\"')[3];\n\n    const { loading, error, data } = useQuery(POSTS_QUERY, {\n        context: {\n            headers: {\n                \"Authorization\": token\n            }\n        }\n    })\n\n    if (loading) return <p>Učitavanje...</p>\n    if (error) return <p>{`Greška: ${error.message}`}</p>\n\n    return (\n        <ToolbarLayout>\n            <Main>\n                <div className={classes.Oglasi}>\n                    <h1>Oglasi</h1>\n                    <div className={classes.ListaMisljenja}>\n                        {\n                            data.posts.map(post => {\n                                return <Oglas \n                                    text={post.description}\n                                    brojCimera={post.num_of_roommates}\n                                    cijena={post.rent}\n                                    email={post.author.email}\n                                    adresa={post.address}\n                                    />\n                            })\n                        }\n                    </div>\n                </div>\n            </Main>\n        </ToolbarLayout>\n    )\n}\n\nexport default Oglasi;\n"]},"metadata":{},"sourceType":"module"}