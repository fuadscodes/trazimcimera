{"ast":null,"code":"var _jsxFileName = \"/home/rootpc/Desktop/Cimeri/Front/trazimcimera-master/src/views/Oglasi/Oglasi.js\";\nimport React, { useState, Fragment } from \"react\";\nimport classes from './Oglasi.css';\nimport Main from \"../../components/Main/Main\";\nimport Oglas from \"./Oglas/Oglas\";\nimport ToolbarLayout from \"../../components/ToolbarLayout/ToolbarLayout\";\nimport AuthApi from \"../../auth-api\";\nimport Cookies from 'js-cookie';\nimport gql from 'graphql-tag';\nimport { useQuery } from '@apollo/react-hooks';\n\nconst Oglasi = props => {\n  const [imamStan, setImamStatn] = useState(true);\n  const [oglasi, setOglasi] = useState([]);\n  const Auth = React.useContext(AuthApi);\n  const POSTS_QUERY = gql`\n    query {\n        posts {\n        post_id\n        description\n        address\n        rent\n        num_of_roommates\n        author {\n        user_id\n        username\n        name\n        surname\n        city\n        address\n        email\n        bio\n        gender\n        date_of_birth\n        pr_picture_url\n        pref_roommate_num\n        }\n    }\n}`;\n  /*\n      const { loading, error, data } = useQuery(GET_USER, {\n          context: {\n              headers: {\n                  \"Content-Type\": \"application/json\"\n          }\n      }\n  })\n  */\n\n  const user = Cookies.get(\"user\");\n  console.log(user.toString().split('\":')[1]);\n  const token = user;\n  console.log(token.split('; ')[0]); //const token =  \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MjgsInVzZXJuYW1lIjoiZG9mdSIsImlhdCI6MTU5MjA2MTQ1NiwiZXhwIjoxNTkyMTQ3ODU2fQ.cXb9uIPFuL1Cp-z8Kb34JalAXCvIVCwtS67SGPEygls\"\n\n  const {\n    loading,\n    error,\n    data\n  } = useQuery(POSTS_QUERY, {\n    context: {\n      headers: {\n        \"Authorization\": token\n      }\n    }\n  });\n  if (loading) return /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 25\n    }\n  }, \"U\\u010Ditavanje...\");\n  if (error) return /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 23\n    }\n  }, `Greška: ${error.message}`);\n  console.log(data);\n  return /*#__PURE__*/React.createElement(ToolbarLayout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Main, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.Oglasi,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.Buttons,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 25\n    }\n  }, \"IMAM STAN\"), /*#__PURE__*/React.createElement(\"button\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 25\n    }\n  }, \"NEMAM STAN\")), /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 21\n    }\n  }, \"Oglasi\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.ListaMisljenja,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 21\n    }\n  }))));\n};\n\nexport default Oglasi;","map":{"version":3,"sources":["/home/rootpc/Desktop/Cimeri/Front/trazimcimera-master/src/views/Oglasi/Oglasi.js"],"names":["React","useState","Fragment","classes","Main","Oglas","ToolbarLayout","AuthApi","Cookies","gql","useQuery","Oglasi","props","imamStan","setImamStatn","oglasi","setOglasi","Auth","useContext","POSTS_QUERY","user","get","console","log","toString","split","token","loading","error","data","context","headers","message","Buttons","ListaMisljenja"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,QAAzB,QAAwC,OAAxC;AACA,OAAOC,OAAP,MAAoB,cAApB;AACA,OAAOC,IAAP,MAAiB,4BAAjB;AACA,OAAOC,KAAP,MAAkB,eAAlB;AACA,OAAOC,aAAP,MAA0B,8CAA1B;AACA,OAAOC,OAAP,MAAoB,gBAApB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,GAAP,MAAgB,aAAhB;AACA,SAAQC,QAAR,QAAuB,qBAAvB;;AAGA,MAAMC,MAAM,GAAIC,KAAD,IAAW;AAEtB,QAAM,CAACC,QAAD,EAAWC,YAAX,IAA2Bb,QAAQ,CAAC,IAAD,CAAzC;AACA,QAAM,CAACc,MAAD,EAASC,SAAT,IAAsBf,QAAQ,CAAC,EAAD,CAApC;AACA,QAAMgB,IAAI,GAAGjB,KAAK,CAACkB,UAAN,CAAiBX,OAAjB,CAAb;AAEA,QAAMY,WAAW,GAAGV,GAAI;;;;;;;;;;;;;;;;;;;;;;;EAAxB;AAwBA;;;;;;;;;;AASA,QAAMW,IAAI,GAAGZ,OAAO,CAACa,GAAR,CAAY,MAAZ,CAAb;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYH,IAAI,CAACI,QAAL,GAAgBC,KAAhB,CAAsB,IAAtB,EAA4B,CAA5B,CAAZ;AAEA,QAAMC,KAAK,GAAGN,IAAd;AACAE,EAAAA,OAAO,CAACC,GAAR,CAAYG,KAAK,CAACD,KAAN,CAAY,IAAZ,EAAkB,CAAlB,CAAZ,EA3CsB,CA4CtB;;AAEA,QAAM;AAAEE,IAAAA,OAAF;AAAWC,IAAAA,KAAX;AAAkBC,IAAAA;AAAlB,MAA2BnB,QAAQ,CAACS,WAAD,EAAc;AACnDW,IAAAA,OAAO,EAAE;AACLC,MAAAA,OAAO,EAAE;AACL,yBAAiBL;AADZ;AADJ;AAD0C,GAAd,CAAzC;AAOA,MAAIC,OAAJ,EAAa,oBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAP;AACb,MAAIC,KAAJ,EAAW,oBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAK,WAAUA,KAAK,CAACI,OAAQ,EAA7B,CAAP;AAEXV,EAAAA,OAAO,CAACC,GAAR,CAAYM,IAAZ;AAEA,sBACI,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAE1B,OAAO,CAACQ,MAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAER,OAAO,CAAC8B,OAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ,CADJ,eAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cALJ,eAMI;AAAK,IAAA,SAAS,EAAE9B,OAAO,CAAC+B,cAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANJ,CADJ,CADJ,CADJ;AAgBH,CA1ED;;AA4EA,eAAevB,MAAf","sourcesContent":["import React, {useState, Fragment} from \"react\";\nimport classes from './Oglasi.css';\nimport Main from \"../../components/Main/Main\";\nimport Oglas from \"./Oglas/Oglas\";\nimport ToolbarLayout from \"../../components/ToolbarLayout/ToolbarLayout\";\nimport AuthApi from \"../../auth-api\";\nimport Cookies from 'js-cookie';\nimport gql from 'graphql-tag';\nimport {useQuery} from '@apollo/react-hooks';\n \n\nconst Oglasi = (props) => {\n\n    const [imamStan, setImamStatn] = useState(true);\n    const [oglasi, setOglasi] = useState([]);\n    const Auth = React.useContext(AuthApi);\n\n    const POSTS_QUERY = gql`\n    query {\n        posts {\n        post_id\n        description\n        address\n        rent\n        num_of_roommates\n        author {\n        user_id\n        username\n        name\n        surname\n        city\n        address\n        email\n        bio\n        gender\n        date_of_birth\n        pr_picture_url\n        pref_roommate_num\n        }\n    }\n}`;\n    /*\n        const { loading, error, data } = useQuery(GET_USER, {\n            context: {\n                headers: {\n                    \"Content-Type\": \"application/json\"\n            }\n        }\n})\n    */\n    const user = Cookies.get(\"user\");\n    console.log(user.toString().split('\":')[1]);\n\n    const token = user\n    console.log(token.split('; ')[0])\n    //const token =  \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MjgsInVzZXJuYW1lIjoiZG9mdSIsImlhdCI6MTU5MjA2MTQ1NiwiZXhwIjoxNTkyMTQ3ODU2fQ.cXb9uIPFuL1Cp-z8Kb34JalAXCvIVCwtS67SGPEygls\"\n\n    const { loading, error, data } = useQuery(POSTS_QUERY, {\n        context: {\n            headers: {\n                \"Authorization\": token\n            }\n        }\n    })\n    if (loading) return <p>Učitavanje...</p>\n    if (error) return <p>{`Greška: ${error.message}`}</p>\n    \n    console.log(data);\n\n    return (\n        <ToolbarLayout>\n            <Main>\n                <div className={classes.Oglasi}>\n                    <div className={classes.Buttons}>\n                        <button>IMAM STAN</button>\n                        <button>NEMAM STAN</button>\n                    </div>\n                    <h1>Oglasi</h1>\n                    <div className={classes.ListaMisljenja}>\n                        \n                    </div>\n                </div>\n            </Main>\n        </ToolbarLayout>\n    )\n}\n\nexport default Oglasi;\n"]},"metadata":{},"sourceType":"module"}